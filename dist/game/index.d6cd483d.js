const e=document.getElementById("gameCanvas"),t=e.getContext("2d");e.style.width="100%",e.style.height="100%",e.width=window.innerWidth,e.height=window.innerHeight;const o=new Image;o.src="assets/sprites.webp",o.onerror=()=>{console.error("Не вдалося завантажити спрайт-лист.")},o.onload=()=>{console.log("Спрайт-лист завантажено."),u(),function t(o){o-f>1e3/144&&(!0===h.w&&(n.y-=10),!0===h.s&&(n.y+=10),!0===h.a&&(n.x-=10),!0===h.d&&(n.x+=10),i=n.x-e.width/2+32,s=n.y-e.height/2+32,u(),f=o),requestAnimationFrame(t)}()};const n={x:0,y:0};let i=0,s=0;const d=Math.ceil(e.width/64),l=Math.ceil(e.height/64),a={};function u(){t.clearRect(0,0,e.width,e.height);for(let e=Math.floor(s/64);e<=Math.floor(s/64)+l;e++)for(let l=Math.floor(i/64);l<=Math.floor(i/64)+d;l++){var n,u;let d=function(e,t){let o=`${e},${t}`;return o in a||(a[o]=Math.floor(2*Math.random())),a[o]}(l,e);n=l,u=e,0===d?t.drawImage(o,500,0,210,210,64*n-i,64*u-s,64,64):t.drawImage(o,200,0,210,210,64*n-i,64*u-s,64,64)}t.drawImage(o,470,370,210,210,e.width/2-32,e.height/2-32,64,64)}const h={w:!1,s:!1,a:!1,d:!1};window.addEventListener("keyup",e=>{console.log("Подія keyup спрацювала",e.key);let t=e.key.toLowerCase();t in h&&(h[t]=!1,console.log(`\u{41A}\u{43B}\u{430}\u{432}\u{456}\u{448}\u{430} \u{432}\u{456}\u{434}\u{43F}\u{443}\u{449}\u{435}\u{43D}\u{430}: ${t}`))}),window.addEventListener("keydown",e=>{console.log("Подія keydown спрацювала",e.key);let t=e.key.toLowerCase();t in h&&(h[t]=!0,console.log(`\u{41A}\u{43B}\u{430}\u{432}\u{456}\u{448}\u{430} \u{43D}\u{430}\u{442}\u{438}\u{441}\u{43D}\u{443}\u{442}\u{430}: ${t}`))}),window.addEventListener("keydown",e=>{["w","a","s","d"].includes(e.key.toLowerCase())&&(e.preventDefault(),h[e.key.toLowerCase()]=!0)});const r=document.getElementById("joystick"),w=document.getElementById("stick");if(r&&w){let e=!1,t=r.offsetWidth/2,o=r.offsetHeight/2;w.addEventListener("mousedown",t=>{e=!0}),window.addEventListener("mousemove",n=>{if(e){let e=r.getBoundingClientRect(),i=n.clientX-e.left-t,s=n.clientY-e.top-o,d=Math.sqrt(i*i+s*s),l=r.offsetWidth/2-w.offsetWidth/2;if(d>l){let e=Math.atan2(s,i);w.style.left=`${Math.cos(e)*l+t-w.offsetWidth/2}px`,w.style.top=`${Math.sin(e)*l+o-w.offsetHeight/2}px`}else w.style.left=`${i+t-w.offsetWidth/2}px`,w.style.top=`${s+o-w.offsetHeight/2}px`;h.w=s<-(.5*l),h.s=s>.5*l,h.a=i<-(.5*l),h.d=i>.5*l}}),window.addEventListener("mouseup",()=>{e=!1,w.style.left=`${t-w.offsetWidth/2}px`,w.style.top=`${o-w.offsetHeight/2}px`,h.w=!1,h.s=!1,h.a=!1,h.d=!1})}else console.error("Елементи джойстика не знайдено!");let f=0;function c(){e.width=window.innerWidth,e.height=window.innerHeight,u()}window.addEventListener("resize",c),c(),window.addEventListener("orientationchange",c);
//# sourceMappingURL=index.d6cd483d.js.map
